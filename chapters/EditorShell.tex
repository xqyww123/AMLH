\chapter{$\ES$编辑壳层}

$\amlh$ 已经在上一章论述清楚。但$\amlh$只是一个抽象机理论，尽管被
定义在 HOL 交互式证明工具的 HOL 逻辑上，借助定理证明工具似乎具象了一点，
但显然不能让用户直接操作数学命题与定理。
需要有一个壳层包裹起$\amlh$理论并向外提供给用户编辑程序的功能，
这是本章将论述的编辑壳层$\ES$的意义。

\section{$\ES$概述}

$\ES$ 是一个形式语言，且具有同名为$\ES$的
基于 System F 的一阶多态类型系统。围绕此构建起同名为$\ES$的状态机，
最后是名为$\ES$编辑壳层的软件工具。

接下来将分别论述$\ES$形式语言、$\ES$类型系统、$\ES$状态机。

\section{$\ES$ 形式语言}
\input{chapters/EditorShell/type.tex}
\input{chapters/EditorShell/type_match_system.tex}
\input{chapters/EditorShell/type_call.tex}


$\ES$

类似λ2演算，令字符串集合 $U_v$ 表示$\ES$的类型系统上所有的类型变量，
字符串集合$U_0$表示所有预定义的类型，集合$ \UE = U_v \cup U_0 $
\[ \PiE = \bnf{\UE \mbar \UE \rightarrow \UE} \]
表示所有的非全称量化类型或简单地叫做普通类型，
\[ \PiAE = \bnf{\PiE \mbar \forall U_v\ \PiAE } \]
表示全称量化类型或简单地叫做量化类型。


